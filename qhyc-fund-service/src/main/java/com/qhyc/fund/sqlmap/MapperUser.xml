<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper    
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"    
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="user">
	<!-- 结果集映射 -->
	<resultMap type="userInfo" id="userMap">
		<result property="phone" column="phone" />
		<result property="fullName" column="full_name" />
		<result property="identityCard" column="identity_card" />
		<result property="bankCard" column="bank_card" />
		<result property="cardholderName" column="cardholder_name" />
		<result property="openingBank" column="opening_bank" />
		<result property="bankAddr" column="bank_addr" />
		<result property="status" column="status" />
		<result property="registerDate" column="register_date" />

	</resultMap>

	<select id="findUserInfoById" parameterType="int" resultMap="userMap">
		select * from user_info where phone = #{phone};
	</select>
	
	 <!--用户注册插入  -->
	<insert id="insertUserInfo" parameterType="userInfo">
		insert into user_info
		(phone,
		full_name,
		identity_card,
		bank_card,
		cardholder_name,
		opening_bank,
		bank_addr,
		status,
		register_date)
		values (
		#{id,jdbcType=BIGINT},
		#{phone,jdbcType=VARCHAR},
		#{fullName,jdbcType=VARCHAR},
		#{identityCard,jdbcType=VARCHAR},
		#{bankCard,jdbcType=BIGINT},
		#{cardholderName,jdbcType=VARCHAR},
		#{openingBank,jdbcType=VARCHAR},
		#{bankAddr,jdbcType=VARCHAR},
		#{status,jdbcType=VARCHAR},
	    now())
	</insert>
</mapper>